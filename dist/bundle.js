(()=>{"use strict";const e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".form-close",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".close-btn",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".form-content",r=document.querySelector(e),l=function e(l){var s=l.target;(s.closest(t)||s.closest(n)||!s.closest(o))&&(r.style.display="none",r.removeEventListener("click",e))};r.style.display="block",r.addEventListener("click",l)};var t,n,o,r,l=document.querySelector(".clubs-list ul"),s=document.querySelector(".popup-menu"),c=0;function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}document.querySelector("html").addEventListener("click",(function(t){var n=t.target,o=null;if((o=n.closest(".clubs-list"))&&(c<1?(l.style.display="block",c+=1):n.closest(".clubs-list ul")||(l.style.display="none",c-=1)),o||"block"===l.style.display&&(l.style.display="none",c=0),n.closest(".menu-button")&&(s.style.display="flex"),(n.closest(".close-menu-btn")||n.closest(".popup-menu li"))&&(s.style.display="none"),o=n.closest(".free-visit")){var r=o.querySelector("a").dataset.popup;e(r)}(o=n.closest(".callback-btn"))&&e(o.dataset.popup),(o=n.closest(".fixed-gift"))&&(o.style.display="none",e("#gift"))})),t=document.getElementById("card_order"),n=document.getElementById("price-total"),o={mozaika:{1:1999,6:9900,9:13900,12:19900},schelkovo:{1:2999,6:14990,9:21990,12:24990},discount:0},r=function(e){return e.checked||e.matches(".price-message input")},t.addEventListener("change",(function(){var e,l=(e=t.elements,function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(r),s=l[1].value;""!==l[2].value.trim()&&"ТЕЛО2019"===l[2].value.trim()&&(o.discount=30),Object.keys(o[s]).forEach((function(e){e===l[0].value&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n.textContent=e-Math.floor(e*(t/100))}(o[s][e],o.discount)}))}))})();